---
title: Categories
subtitle: Enable users to manage their notification preferences & control delivery channels
---

Applications send many types of notifications. For example, a social network sends
notifications for friendship requests, comments on a post, or a friend's upcoming birthday.
In MagicBell, these are a notification `category`. The category primitive allows you to

- Offer granular preferences to users so they can enable/disable notifications per category and channel.
- Select notification [template per channel](/docs/templates).
- Customize delivery rules such as [delivery channels](/docs/channels) and delays between them.
- Offer `Topic Subscriptions` at a category level
- Split the Notification Inbox into multiple tabs. See an [example on the playground](https://playground.magicbell.com/react-inbox-tabs)

## Creating a notification with a category

When creating a notification, you can set a category in the
`notification.category` parameter. A category must contain less than 256
characters and should not contain spaces.

<Tabs>

```json title=PAYLOAD hideHeader noTopBorderRadius
{
  "notification": {
    "title": "Join the September webinar",
    "category": "annoucement",
    "recipients": [{ "matches": "*" }]
  }
}
```

```curl title=cURL hideHeader noTopBorderRadius
curl https://api.magicbell.com/notifications \
  --request POST \
  --header 'X-MAGICBELL-API-KEY: MAGICBELL_API_KEY' \
  --header 'X-MAGICBELL-API-SECRET: MAGICBELL_API_SECRET' \
  --data '{
    "notification": {
        "title": "Join the September webinar",
        "category": "annoucement",
        "recipients": [
          { "matches": "*" },
        ]
    }
  }'
```

```ruby title=RUBY hideHeader noTopBorderRadius
require 'httparty'

headers = {
  "X-MAGICBELL-API-KEY": "MAGICBELL_API_KEY",
  "X-MAGICBELL-API-SECRET": "MAGICBELL_API_SECRET",
}

body = {
  notification: {
    title: "Join the September webinar",
    category: "annoucement",
    recipients: [
      { matches: "*" },
    ]
  }
}

response = HTTParty.post("https://api.magicbell.com", { body: body.to_json, headers: headers })
```

```python title=PYTHON hideHeader noTopBorderRadius
import requests

headers = {
    'X-MAGICBELL-API-SECRET': 'MAGICBELL_API_KEY',
    'X-MAGICBELL-API-KEY': 'MAGICBELL_API_SECRET',
}

data = {
    "notification": {
        "title": "Join the September webinar",
        "category": "annoucement",
        "recipients": [
            { "matches": "*"},
        ]
    }
}

response = requests.post('https://api.magicbell.com/notifications', headers=headers, json=data)
```

```javascript title=JAVASCRIPT hideHeader noTopBorderRadius
import axios from 'axios';

const headers = {
  'X-MAGICBELL-API-SECRET': 'MAGICBELL_API_KEY',
  'X-MAGICBELL-API-KEY': 'MAGICBELL_API_SECRET',
};

const data = {
  notification: {
    title: 'Join the September webinar',
    category: 'annoucement',
    recipients: [{ matches: '*' }],
  },
};

axios.post('https://api.magicbell.com/notifications', data, { headers });
```

</Tabs>

## Creating categories

To create a category, simply pass the desired category into the `notification.category` parameter. No additional action is needed!
You can also create/update/delete categories from the dashboard by visiting the Categories tab.

## Controlling delivery channels

By default, notifications are delivered to all the channels configured for the project.
However, you can control the [sequence and timing](https://www.youtube.com/watch?v=P4gPQjs1bnQ) of notifications per category in the Category>Smart Delivery tab:

<img
  className="full-mobile"
  src="/docs/uploads/smart-delivery.png"
  style={{ width: '100%', height: 'intrinsic' }}
/>

For example, in a Google docs-like application, you may send the _page updated_
notification only in-app, not via email or mobile push. To accomplish this in
MagicBell, you can use the category `update` and disable email and
mobile-push channels for this category.

## End-user notification preference management

User Notification preferences can be set per channel and category. For example, in the
the screenshot below, the preference labels are derived from two categories -
`new_message`, and `new_invoice`:

<img
  className="full-mobile"
  src="/docs/uploads/inbox-preferences.png"
  style={{ width: '100%', height: 'intrinsic' }}
/>

If you build a custom UI or integrate these preferences into your existing
settings screen, you can use the [notification preferences API endpoint](/docs/rest-api/reference#put-preferences).
